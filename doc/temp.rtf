{\rtf1\ansi\ansicpg1252\cocoartf2761
\cocoatextscaling0\cocoaplatform0{\fonttbl\f0\fnil\fcharset0 Menlo-Regular;}
{\colortbl;\red255\green255\blue255;\red202\green202\blue202;\red23\green23\blue23;}
{\*\expandedcolortbl;;\cssrgb\c83137\c83137\c83137;\cssrgb\c11765\c11765\c11765;}
\paperw11900\paperh16840\margl1440\margr1440\vieww11520\viewh8400\viewkind0
\deftab720
\pard\pardeftab720\partightenfactor0

\f0\fs24 \cf2 \cb3 \expnd0\expndtw0\kerning0
\outl0\strokewidth0 \strokec2 **Bloom Filter Protocol**  \
\
**Goal:**  \
Create a connection between client and server to allow the client to interact with a Bloom filter (blacklist) on the server.  \
\
---  \
\
**Message Types (Client -> Server):**  \
| Command | Fields   | Explanation                     | Response |  \
|---------|----------|---------------------------------|----------|  \
| POST    | [URL]    | Add URL to the blacklist.       | 201      |  \
| GET     | [URL]    | Check if URL is in blacklist.   | 200      |  \
| DELETE  | [URL]    | Remove URL from blacklist.      | 200/404  |  \
\
**Server Responses (Server -> Client):**  \
| Response | Explanation                               |  \
|----------|-------------------------------------------|  \
| 201      | Created (POST success).                   |  \
| 200      | OK (GET success; includes data in content)|  \
| 204      | No Content (DELETE success).              |  \
| 404      | Not Found (valid but illogical request).  |  \
| 400      | Bad Request (invalid syntax/command).     |  \
\
---  \
\
**Message Syntax:**  \
1. Messages are ASCII strings.  \
2. Fields separated by spaces.  \
3. Content (if present) starts after a double newline (`\\n\\n`).  \
4. Client message format: `[COMMAND] [FIELD1] [FIELD2]...`  \
5. Server message format: `[RESPONSE_CODE] [STATUS] \\n\\n [CONTENT]`  \
\
---  \
\
**Connection:**  \
- TCP-based, synchronous (client waits for response after each request).  \
\
---  \
\
**Example Interaction (Chart Format):**  \
\
| Step | Actor   | Action                                  | Data                                |  \
|------|---------|-----------------------------------------|-------------------------------------|  \
| 1    | Client  | Connects to server                      | TCP Connection established          |  \
| 2    | User    | Enters command: POST http://example.com | Input to client                     |  \
| 3    | Client  | Sends command to server                 | `POST http://example.com`           |  \
| 4    | Server  | Processes command (adds URL)            | Internal logic                      |  \
| 5    | Server  | Sends response to client                | `201 Created`                       |  \
| 6    | Client  | Displays response                       | `201 Created` (console)             |  \
| 7    | User    | Enters command: GET http://example.com  | Input to client                     |  \
| 8    | Client  | Sends command to server                 | `GET http://example.com`            |  \
| 9    | Server  | Checks Bloom filter                     | Internal logic                      |  \
| 10   | Server  | Sends response to client                | `200 OK\\n\\ntrue`                  |  \
| 11   | Client  | Displays response                       | `200 OK\\n\\ntrue` (console)        |  \
| 12   | User    | Enters invalid command: FOO bar         | Input to client                     |  \
| 13   | Client  | Sends command to server                 | `FOO bar`                           |  \
| 14   | Server  | Rejects invalid command                 | `400 Bad Request`                   |  \
| 15   | Client  | Displays error                          | `400 Bad Request` (console)         |  \
| 16   | User    | Enters command: DELETE http://what.com  | Input to client                     |  \
| 17   | Client  | Sends command to server                 | `DELETE http://what.com`            |  \
| 18   | Server  | Tries to delete URL                     | Internal logic                      |  \
| 19   | Server  | Rejects illogical command               | `404 Not Found`                     |  \
| 20   | Client  | Displays error                          | `404 Not Found` (console)           |  \
\
---  \
**Notes:**  \
- **Data** column includes sent commands, responses, or internal processes.  \
- Server responses include status codes and optional content (e.g., `true` for Bloom filter check).  \
- Invalid commands trigger `400 Bad Request`; unmatched deletions trigger `404 Not Found`.}